#!/bin/bash

TSC_COPYRIGHT = "Copyright: Kaiserrundfunk.com / Jonacast 2019"
  TSC_DONTEDIT = "Created by Configure at compiling - do not edit this file"
  TSC_TIMESTAMP = `date "+%d.%m.%Y %H:%M:%S" `
#name of the game :-)
  TSC_Proj = "vipclub" TSC_PrettyProj = "VIP-Club" TSC_LANG_DE = "de"
#directories
  TSC_Src = "./src/" TSC_Doc = "./doc/" TSC_RPMS = "./rpms/"
#version
  TSC_Major = "0"
  TSC_Minor = "1"
  TSC_Release = "1"
  TSC_Patch = "1"
  TSC_Name = $TSC_Proj - $TSC_Major.$TSC_Minor.$TSC_Release - $TSC_Patch
  TSC_CMK = $TSC_Src "config.mk"
  TSC_H = $TSC_Src "config.h"
  TSC_MF = $TSC_Src "Makefile"
  TSC_SPEC = $TSC_RPMS$TSC_Name ".spec"
  TSC_Echo = `which echo `
  TSC_Echoe = `which echo ` " -e" TSC_MK = `which make `
#$1 start definition line #define or empty
#$2 start remark line
#$3 start action line
#$4 assignment operator or empty
#$5 outputfile
  tsc_write_env ()
{

$TSC_Echoe "write" $5
    $TSC_Echoe "$2 " $TSC_COPYRIGHT > $5
    $TSC_Echoe "\n$2 $5 " $TSC_TIMESTAMP >> $5
    $TSC_Echoe "\n$2 " $TSC_DONTEDIT >> $5
    $TSC_Echoe "\n\n$2 Globals:\n" >> $5
    $TSC_Echoe $1 "TSC_NAME$4" $TSC_Name >> $5
    $TSC_Echoe $1 "TSC_Major$4" $TSC_Major >> $5
    $TSC_Echoe $1 "TSC_Minor$4" $TSC_Major >> $5
    $TSC_Echoe $1 "TSC_Release$4" $TSC_Release >> $5
    $TSC_Echoe $1 "TSC_Patch$4" $TSC_Patch >> $5
    $TSC_Echo $1 "TSC_Echo$4" $TSC_Echo >> $5
    $TSC_Echoe $1 "TSC_Echoe$4" $TSC_Echoe >> $5
    $TSC_Echoe $1 "TSC_MK$4" $TSC_MK >> $5}

tsc_write_env "" "#" "" "=" $TSC_CMK
  tsc_write_env "#define " "//" "" " " $TSC_H
#tsc_write_spec (){
#echo "\$3"=$3
#$TSC_Echoe "$1\n$1 Spec-File ($2) for "$2"\n$1" > $3
#$TSC_Echoe "Summary: A VIP-Club ($2) Plugin for Broadcasters" >> $3
#$TSC_Echoe "Version: "$TSC_Major"."$TSC_Minor  >> $3
#$TSC_Echoe "Release: "$TSC_Release"-"$TSC_Patch >> $3
#$TSC_Echoe "License: MIT" >> $3
#$TSC_Echoe "Group: Applications/Multimedia" >> $3
#$TSC_Echoe "Source: https://github.com/Chartwalker/VipClub/stable/"$TSC_Name".src.tgz" >> $3
#$TSC_Echoe "URL: https://github.com/Chartwalker/VipClub/stable/doc/index.html" >> $3
#$TSC_Echoe "\n%description: see manual pdf at $TS_Doc" >> $3
#
#}
#tsc_write_spec "#" "de" $TSC_LANG $TSC_SPEC
#arg1 dirpath
#arg2 dir perms
#arg2 symlink perms
tsc_test_direntry ()
{
  $TSC_Echoe "testing $1\n"; 
  if ([-d $1] &&[-L $1])
    then 
    $TSC_Echoe $1 " ist ein Symlink auf ein echtes Verzeichnis" 
    fi
      if ([-d $1] - a[!-L $1])
      then $TSC_Echoe $1 " ist ein echtes Verzeichnis, kein Symlink" fi
#kein Verzeichnis
	if ([!-d $1] - a[-L $1])
	then $TSC_Echoe $1 " ist kein Verzeichnis, aber ein Symlink" fi
	  if ([!-d $1] - a[!-L $1])
	  then $TSC_Echoe $1
	    " ist kein echtes Verzeichnis und auch kein Symlink" fi
}

	  tsc_test_direntry "./testConfigure"
	    tsc_test_direntry "./testsrc"
	    tsc_test_direntry "./src" tsc_test_direntry "./Configure"
